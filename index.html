<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Laravel-debugbar by barryvdh</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Laravel-debugbar</h1>
        <h2>Laravel 4 Debugbar (Integrates PHP Debug Bar)</h2>
        <a href="https://github.com/barryvdh/laravel-debugbar" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h2>
<a id="laravel-4-debugbar" class="anchor" href="#laravel-4-debugbar" aria-hidden="true"><span class="octicon octicon-link"></span></a>Laravel 4 Debugbar</h2>

<p><a href="http://choosealicense.com/licenses/mit/"><img src="https://poser.pugx.org/barryvdh/laravel-debugbar/license.png" alt="Packagist License"></a>
<a href="https://packagist.org/packages/barryvdh/laravel-debugbar"><img src="https://poser.pugx.org/barryvdh/laravel-debugbar/version.png" alt="Latest Stable Version"></a>
<a href="https://packagist.org/packages/barryvdh/laravel-debugbar"><img src="https://poser.pugx.org/barryvdh/laravel-debugbar/d/total.png" alt="Total Downloads"></a></p>

<p>This is a package to integrate <a href="http://phpdebugbar.com/">PHP Debug Bar</a> with Laravel.
It includes a ServiceProvider to register the debugbar and attach it to the output. You can publish assets and configure it through Laravel.
It bootstraps some Collectors to work with Laravel and implements a couple custom DataCollectors, specific for Laravel.
It is configured to display Redirects and (jQuery) Ajax Requests. (Shown in a dropdown)
Read <a href="http://phpdebugbar.com/docs/">the documentation</a> for more configuration options.</p>

<p><img src="https://cloud.githubusercontent.com/assets/973269/4270452/740c8c8c-3ccb-11e4-8d9a-5a9e64f19351.png" alt="Screenshot"></p>

<p>Note: Use the DebugBar only in development. It can slow the application down (because it has to gather data). So when experiencing slowness, try disabling some of the collectors.</p>

<p>This package includes some custom collectors:</p>

<ul>
<li>QueryCollector: Show all queries, including binding + timing</li>
<li>RouteCollector: Show information about the current Route.</li>
<li>ViewCollector: Show the currently loaded views. (Optionally: display the shared data)</li>
<li>EventsCollector: Show all events</li>
<li>LaravelCollector: Show the Laravel version and Environment. (disabled by default)</li>
<li>SymfonyRequestCollector: replaces the RequestCollector with more information about the request/response</li>
<li>LogsCollector: Show the latest log entries from the storage logs. (disabled by default)</li>
<li>FilesCollector: Show the files that are included/required by PHP. (disabled by default)</li>
<li>ConfigCollector: Display the values from the config files. (disabled by default)</li>
</ul>

<p>Bootstraps the following collectors for Laravel:</p>

<ul>
<li>LogCollector: Show all Log messages</li>
<li>SwiftMailCollector and SwiftLogCollector for Mail</li>
</ul>

<p>And the default collectors:</p>

<ul>
<li>PhpInfoCollector</li>
<li>MessagesCollector</li>
<li>TimeDataCollector (With Booting and Application timing)</li>
<li>MemoryCollector</li>
<li>ExceptionsCollector</li>
</ul>

<p>It also provides a Facade interface for easy logging Messages, Exceptions and Time</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Require this package with composer:</p>

<pre><code>composer require barryvdh/laravel-debugbar
</code></pre>

<p>After updating composer, add the ServiceProvider to the providers array in app/config/app.php</p>

<pre><code>'Barryvdh\Debugbar\ServiceProvider',
</code></pre>

<p>If you want to use the facade to log messages, add this to your facades in app.php:</p>

<pre><code>'Debugbar' =&gt; 'Barryvdh\Debugbar\Facade',
</code></pre>

<p><del>You need to publish the assets from this package.</del> Since 1.7, you don't need to publish the assets anymore.</p>

<p>The profiler is enabled by default, if you have app.debug=true. You can override that in the config files.
You can also set in your config if you want to include/exclude the vendor files also (FontAwesome, Highlight.js and jQuery). If you already use them in your site, set it to false.
You can also only display the js of css vendors, by setting it to 'js' or 'css'. (Highlight.js requires both css + js, so set to <code>true</code> for syntax highlighting)</p>

<pre><code>php artisan config:publish barryvdh/laravel-debugbar
</code></pre>

<p>You can also disable/enable the loggers you want. You can also use the IoC container to add extra loggers. (<code>$app['debugbar']-&gt;addCollector(new MyDataCollector)</code>)</p>

<p>You can now add messages using the Facade (when added), using the PSR-3 levels (debug, info, notice, warning, error, critical, alert, emergency):</p>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-sc">Debugbar</span><span class="pl-ko">::</span>info(<span class="pl-v"><span class="pl-pdv">$</span>object</span>);</span>
<span class="pl-s2"><span class="pl-sc">Debugbar</span><span class="pl-ko">::</span>error(<span class="pl-s1"><span class="pl-pds">'</span>Error!<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2"><span class="pl-sc">Debugbar</span><span class="pl-ko">::</span>warning(<span class="pl-s1"><span class="pl-pds">'</span>Watch out…<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2"><span class="pl-sc">Debugbar</span><span class="pl-ko">::</span>addMessage(<span class="pl-s1"><span class="pl-pds">'</span>Another message<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>mylabel<span class="pl-pds">'</span></span>);</span></pre></div>

<p>And start/stop timing:</p>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-sc">Debugbar</span><span class="pl-ko">::</span>startMeasure(<span class="pl-s1"><span class="pl-pds">'</span>render<span class="pl-pds">'</span></span>,<span class="pl-s1"><span class="pl-pds">'</span>Time for rendering<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2"><span class="pl-sc">Debugbar</span><span class="pl-ko">::</span>stopMeasure(<span class="pl-s1"><span class="pl-pds">'</span>render<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2"><span class="pl-sc">Debugbar</span><span class="pl-ko">::</span>addMeasure(<span class="pl-s1"><span class="pl-pds">'</span>now<span class="pl-pds">'</span></span>, <span class="pl-c1">LARAVEL_START</span>, <span class="pl-sf">microtime</span>(<span class="pl-c1">true</span>));</span>
<span class="pl-s2"><span class="pl-sc">Debugbar</span><span class="pl-ko">::</span>measure(<span class="pl-s1"><span class="pl-pds">'</span>My long operation<span class="pl-pds">'</span></span>, <span class="pl-s">function</span>() {</span>
<span class="pl-s2">    <span class="pl-c"><span class="pl-pdc">//</span> Do something…</span></span>
<span class="pl-s2">});</span></pre></div>

<p>Or log exceptions:</p>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-k">try</span> {</span>
<span class="pl-s2">    <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-sc">Exception</span>(<span class="pl-s1"><span class="pl-pds">'</span>foobar<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2">} <span class="pl-k">catch</span> (<span class="pl-sc">Exception</span> <span class="pl-v"><span class="pl-pdv">$</span>e</span>) {</span>
<span class="pl-s2">    <span class="pl-sc">Debugbar</span><span class="pl-ko">::</span>addException(<span class="pl-v"><span class="pl-pdv">$</span>e</span>);</span>
<span class="pl-s2">}</span></pre></div>

<p>There are also helper functions available for the most common calls:</p>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-c"><span class="pl-pdc">//</span> All arguments will be dumped as a debug message</span></span>
<span class="pl-s2">debug(<span class="pl-v"><span class="pl-pdv">$</span>var1</span>, <span class="pl-v"><span class="pl-pdv">$</span>someString</span>, <span class="pl-v"><span class="pl-pdv">$</span>intValue</span>, <span class="pl-v"><span class="pl-pdv">$</span>object</span>);</span>
<span class="pl-s2"></span>
<span class="pl-s2">start_measure(<span class="pl-s1"><span class="pl-pds">'</span>render<span class="pl-pds">'</span></span>,<span class="pl-s1"><span class="pl-pds">'</span>Time for rendering<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2">stop_measure(<span class="pl-s1"><span class="pl-pds">'</span>render<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2">add_measure(<span class="pl-s1"><span class="pl-pds">'</span>now<span class="pl-pds">'</span></span>, <span class="pl-c1">LARAVEL_START</span>, <span class="pl-sf">microtime</span>(<span class="pl-c1">true</span>));</span>
<span class="pl-s2">measure(<span class="pl-s1"><span class="pl-pds">'</span>My long operation<span class="pl-pds">'</span></span>, <span class="pl-s">function</span>() {</span>
<span class="pl-s2">    <span class="pl-c"><span class="pl-pdc">//</span> Do something…</span></span>
<span class="pl-s2">});</span></pre></div>

<p>If you want you can add your own DataCollectors, through the Container or the Facade:</p>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-sc">Debugbar</span><span class="pl-ko">::</span>addCollector(<span class="pl-k">new</span> DebugBar\DataCollector\<span class="pl-sc">MessagesCollector</span>(<span class="pl-s1"><span class="pl-pds">'</span>my_messages<span class="pl-pds">'</span></span>));</span>
<span class="pl-s2"><span class="pl-c"><span class="pl-pdc">//</span>Or via the App container:</span></span>
<span class="pl-s2"><span class="pl-v"><span class="pl-pdv">$</span>debugbar</span> <span class="pl-ko">=</span> <span class="pl-sc">App</span><span class="pl-ko">::</span>make(<span class="pl-s1"><span class="pl-pds">'</span>debugbar<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2"><span class="pl-v"><span class="pl-pdv">$</span>debugbar</span><span class="pl-ko">-&gt;</span>addCollector(<span class="pl-k">new</span> DebugBar\DataCollector\<span class="pl-sc">MessagesCollector</span>(<span class="pl-s1"><span class="pl-pds">'</span>my_messages<span class="pl-pds">'</span></span>));</span></pre></div>

<p>By default, the Debugbar is injected just before <code>&lt;/body&gt;</code>. If you want to inject the Debugbar yourself,
set the config option 'inject' to false and use the renderer yourself and follow <a href="http://phpdebugbar.com/docs/rendering.html">http://phpdebugbar.com/docs/rendering.html</a></p>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-v"><span class="pl-pdv">$</span>renderer</span> <span class="pl-ko">=</span> <span class="pl-sc">Debugbar</span><span class="pl-ko">::</span>getJavascriptRenderer();</span></pre></div>

<p>Note: Not using the auto-inject, will disable the Request information, because that is added After the response.
You can add the default_request datacollector in the config as alternative.</p>

<h2>
<a id="enablingdisabling-on-run-time" class="anchor" href="#enablingdisabling-on-run-time" aria-hidden="true"><span class="octicon octicon-link"></span></a>Enabling/Disabling on run time</h2>

<p>You can enable or disable the debugbar during run time.</p>

<div class="highlight highlight-php"><pre><span class="pl-s2">\<span class="pl-sc">Debugbar</span><span class="pl-ko">::</span>enable();</span>
<span class="pl-s2">\<span class="pl-sc">Debugbar</span><span class="pl-ko">::</span>disable();</span></pre></div>

<p>NB. Once enabled, the collectors are added (and could produce extra overhead), so if you want to use the debugbar in production, disable in the config and only enable when needed.</p>

<h2>
<a id="twig-integration" class="anchor" href="#twig-integration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Twig Integration</h2>

<p>Laravel Debugbar comes with two Twig Extensions. These are tested with <a href="https://github.com/rcrowe/TwigBridge">rcrowe/TwigBridge</a> 0.6.x</p>

<p>Add the following extensions to your TwigBridge config/extensions.php (or register the extensions manually)</p>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-s1"><span class="pl-pds">'</span>Barryvdh\Debugbar\Twig\Extension\Debug<span class="pl-pds">'</span></span>,</span>
<span class="pl-s2"><span class="pl-s1"><span class="pl-pds">'</span>Barryvdh\Debugbar\Twig\Extension\Dump<span class="pl-pds">'</span></span>,</span>
<span class="pl-s2"><span class="pl-s1"><span class="pl-pds">'</span>Barryvdh\Debugbar\Twig\Extension\Stopwatch<span class="pl-pds">'</span></span>,</span></pre></div>

<p>The Dump extension will replace the <a href="http://twig.sensiolabs.org/doc/functions/dump.html">dump function</a> to output variables using the DataFormatter. The Debug extension adds a <code>debug()</code> function which passes variables to the Message Collector,
instead of showing it directly in the template. It dumps the arguments, or when empty; all context variables.</p>

<pre><code>{{ debug() }}
{{ debug(user, categories) }}
</code></pre>

<p>The Stopwatch extension adds a <a href="http://symfony.com/blog/new-in-symfony-2-4-a-stopwatch-tag-for-twig">stopwatch tag</a>  similar to the one in Symfony/Silex Twigbridge.</p>

<pre><code>{% stopwatch "foo" %}
    …some things that gets timed
{% endstopwatch %}
</code></pre>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/barryvdh/laravel-debugbar/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/barryvdh/laravel-debugbar/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/barryvdh/laravel-debugbar"></a> is maintained by <a href="https://github.com/barryvdh">barryvdh</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
